#!/usr/bin/env python3

"""
DOCSTRING
==================

INPUTS============
node_element_file : a txt file that's exported from FLUX. It specifies the
                    node number, node coordinates, and the weight of the nodes.

face_element_file : a txt file that's exported from FLUX. It specifies the
                    face element number, the nodes making up the face element,
                    and the type of the face element.

OUTPUTS===========
mesh_output       : an xml file that this python script generates. This xml
                    file contains the node and element information of the mesh
                    that's generated by the FLUX, and is ready to be imported
                    into FEniCS.
"""

# import python libraries
import sys, getopt # for script input argument detection
import fnmatch     # for recognizing patterns in a string of characters

"""
Function Definitions
"""

def main():
    check_the_inputoutput_arguments(sys.argv[1:])


def check_the_inputoutput_arguments(script_arguments):
    # CHECK FOR I/O ARGUMENTS
    inputfile = []
    outputfile = ''
    # try for the options
    try:
        opts, args = getopt.getopt(script_arguments, "hi:o:", ["ifile=","ofile="])
    except getopt.GetoptError:
        sys.exit("Error: Unrecognized option specified! and/or \
        input file missing!")
    # store the input and output filenames
    for opt, arg in opts:
        if opt == '-h':
            # display help
            sys.exit('test.py -i <node_element_file> -i <face_element_file> -o \
            <mesh_output>')
        elif opt in ("-i", "--ifile"):
            # store input filename
            inputfile.append(arg)
        elif opt in ("-o", "--ofile"):
            # store output filename
            outputfile = arg

    if (inputfile == []) or (outputfile == ''):
        sys.exit('Error: I/O files are not specified!')

    print("Normal commencement.")
    print('Input files are : ', inputfile)
    print('Output files are : ', outputfile)



"""
Run the Main Function
"""
main()

# scrub_node_element_file()
# retrieve_node_information()
# scrub_face_element_file()
# retrieve_face_information()
# write_xml_file()
